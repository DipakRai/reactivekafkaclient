!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ngxs/store"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ngxs/devtools-plugin",["exports","@angular/core","@ngxs/store","rxjs/operators"],t):t(((e=e||self).ngxs=e.ngxs||{},e.ngxs["devtools-plugin"]={}),e.ng.core,e["ngxs-store"],e.rxjs.operators)}(this,function(e,t,o,n){"use strict";var s=function(){return(s=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var s in t=arguments[o])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},r=new t.InjectionToken("NGXS_DEVTOOLS_OPTIONS"),i=function(){function e(e,t){var o=this;this._options=e,this._injector=t,this.devtoolsExtension=null,this.windowObj="undefined"!=typeof window?window:{};var n=this.windowObj.__REDUX_DEVTOOLS_EXTENSION__||this.windowObj.devToolsExtension;n&&(this.devtoolsExtension=n.connect(e),this.devtoolsExtension.subscribe(function(e){return o.dispatched(e)}))}return Object.defineProperty(e.prototype,"store",{get:function(){return this._injector.get(o.Store)},enumerable:!0,configurable:!0}),e.prototype.handle=function(e,t,o){var s=this,r=this._options&&this._options.disabled;return!this.devtoolsExtension||r?o(e,t):o(e,t).pipe(n.catchError(function(o){var n=s.store.snapshot();throw s.sendToDevTools(e,t,n),o}),n.tap(function(o){s.sendToDevTools(e,t,o)}))},e.prototype.sendToDevTools=function(e,t,n){var r=o.getActionTypeFromInstance(t);"@@INIT"===r?this.devtoolsExtension.init(e):this.devtoolsExtension.send(s({},t,{type:r}),n)},e.prototype.dispatched=function(e){var t=this;if("DISPATCH"===e.type){if("JUMP_TO_ACTION"===e.payload.type||"JUMP_TO_STATE"===e.payload.type){var o=JSON.parse(e.state);this.store.reset(o)}else if("TOGGLE_ACTION"===e.payload.type)console.warn("Skip is not supported at this time.");else if("IMPORT_STATE"===e.payload.type){var n=e.payload.nextLiftedState,s=n.actionsById,r=n.computedStates,i=n.currentStateIndex;this.devtoolsExtension.init(r[0].state),Object.keys(s).filter(function(e){return"0"!==e}).forEach(function(e){return t.devtoolsExtension.send(s[e],r[e].state)}),this.store.reset(r[i].state)}}else if("ACTION"===e.type){var a=JSON.parse(e.payload);this.store.dispatch(a)}},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:t.Inject,args:[r]}]},{type:t.Injector}]},e}();function a(e){return s({name:"NGXS"},e)}var d=new t.InjectionToken("USER_OPTIONS"),p=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:o.NGXS_PLUGINS,useClass:i,multi:!0},{provide:d,useValue:t},{provide:r,useFactory:a,deps:[d]}]}},e.decorators=[{type:t.NgModule,args:[{imports:[o.NgxsModule]}]}],e}();e.NGXS_DEVTOOLS_OPTIONS=r,e.NgxsReduxDevtoolsPlugin=i,e.NgxsReduxDevtoolsPluginModule=p,e.ɵa=a,e.ɵb=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngxs-devtools-plugin.umd.min.js.map